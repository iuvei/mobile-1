/**
 * Created by hanyonglu on 2017/11/8.
 */
var __assign=(this&&this.__assign)||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i+=1){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p)){t[p]=s[p]}}}return t};var BJSCBetNumbersConfig={danshi:{"600203":true,"600302":true},normal:{"600101":true,"600202":true,"600301":true,"600401":true,"600502":true,"600501":true},special:{"600503":true,"600504":true,"600505":true,"600506":true,"600507":true,"600508":true,"600509":true,"600510":true,"600511":true,"600512":true,"600513":true,"600514":true,"600515":true,"600516":true,"600517":true,"600518":true,"600519":true,"600520":true,"600521":true,"600522":true,"600523":true}};var fiveFromElevenBetNumbersConfig={fushi:{"500101":true,"500106":true,"500111":true,"500201":true,"500206":true,"500401":true},other:{"500103":true,"500105":true,"500108":true,"500110":true,"500113":true,"500115":true,"500203":true,"500205":true,"500208":true,"500210":true,"500301":true,"500302":true,"500303":true,"500501":true,"500502":true,"500503":true,"500504":true,"500505":true,"500506":true,"500507":true,"500508":true,"500701":true,"500702":true,"500703":true,"500704":true,"500705":true,"500706":true,"500707":true},danshi:{"500102":true,"500104":true,"500107":true,"500109":true,"500112":true,"500114":true,"500202":true,"500204":true,"500207":true,"500209":true,"500601":true,"500602":true,"500603":true,"500604":true,"500605":true,"500606":true,"500607":true,"500608":true}};var FTCBetNumbersConfig={fushi:{"100101":true,"100201":true,"100202":true,"100301":true},other:{"100203":true,"100204":true,"100303":true,"100401":true,"100402":true,"100403":true,"100501":true,"100502":true,"100601":true,"100602":true},danshi:{"100302":true}};var justifyStartConfig={"300203":true,"300207":true,"300211":true,"300215":true,"300303":true,"300309":true,"300312":true,"300403":true,"300409":true,"300412":true,"300503":true,"300509":true,"300512":true,"300801":true,"300802":true,"300803":true,"300804":true,"301003":true,"301006":true,"301103":true,"301109":true,"400201":true,"400301":true,"400401":true,"400402":true,"400501":true,"400601":true,"400701":true,"400801":true,"400802":true,"400101":true,"400102":true,"400103":true,"400104":true,"400105":true,"400106":true,"400107":true,"400108":true,"400109":true,"400110":true,"400111":true,"400112":true,"400113":true,"400114":true,"400115":true,"400116":true,"600502":true};var KSBetNumbersConfig={normal:{"400201":true,"400301":true,"400401":true,"400402":true,"400501":true,"400601":true,"400701":true,"400801":true,"400802":true},special:{"400101":true,"400102":true,"400103":true,"400104":true,"400105":true,"400106":true,"400107":true,"400108":true,"400109":true,"400110":true,"400111":true,"400112":true,"400113":true,"400114":true,"400115":true,"400116":true}};var SSCBetNumbersConfig={fushi:{"300101":true,"300201":true,"300205":true,"300301":true,"300305":true,"300401":true,"300405":true,"300501":true,"300505":true,"300601":true,"300701":true,"301001":true,"301101":true,"301201":true},other:{"300203":true,"300204":true,"300207":true,"300208":true,"300209":true,"300211":true,"300212":true,"300213":true,"300215":true,"300216":true,"300303":true,"300304":true,"300306":true,"300307":true,"300309":true,"300310":true,"300311":true,"300312":true,"300403":true,"300404":true,"300406":true,"300407":true,"300409":true,"300410":true,"300411":true,"300412":true,"300503":true,"300504":true,"300506":true,"300507":true,"300509":true,"300510":true,"300511":true,"300512":true,"300801":true,"300802":true,"300803":true,"300804":true,"300901":true,"300902":true,"300903":true,"300904":true,"300905":true,"300906":true,"300907":true,"300908":true,"300909":true,"300910":true,"300911":true,"301003":true,"301004":true,"301006":true,"301103":true,"301104":true,"301106":true,"301109":true,"301203":true,"301204":true,"301205":true,"301206":true,"301401":true,"301402":true,"301403":true,"301404":true,"301405":true,"301406":true,"301407":true,"301408":true,"301409":true,"301410":true,"301411":true,"301412":true,"301413":true,"301414":true,"301415":true,"301416":true,"301417":true,"301418":true,"301419":true,"301420":true,"301421":true,"301422":true,"301423":true,"301424":true,"301425":true,"301426":true,"301427":true},danshi:{"300202":true,"300206":true,"300210":true,"300214":true,"300302":true,"300308":true,"300402":true,"300408":true,"300502":true,"300508":true,"300602":true,"300702":true,"301002":true,"301005":true,"301102":true,"301105":true,"301107":true,"301108":true,"301202":true},fullInverse:{"300212":true,"300216":true,"300310":true,"300410":true,"300510":true}};var SSCList={"300101":true,"300201":true,"300205":true,"300301":true,"300305":true,"300401":true,"300405":true,"300501":true,"300505":true,"300601":true,"300701":true,"301001":true,"301101":true,"301201":true,"300203":true,"300204":true,"300207":true,"300208":true,"300209":true,"300211":true,"300212":true,"300213":true,"300215":true,"300216":true,"300303":true,"300304":true,"300306":true,"300307":true,"300309":true,"300310":true,"300311":true,"300312":true,"300403":true,"300404":true,"300406":true,"300407":true,"300409":true,"300410":true,"300411":true,"300412":true,"300503":true,"300504":true,"300506":true,"300507":true,"300509":true,"300510":true,"300511":true,"300512":true,"300801":true,"300802":true,"300803":true,"300804":true,"300901":true,"300902":true,"300903":true,"300904":true,"300905":true,"300906":true,"300907":true,"300908":true,"300909":true,"300910":true,"300911":true,"301003":true,"301004":true,"301006":true,"301103":true,"301104":true,"301106":true,"301109":true,"301203":true,"301204":true,"301205":true,"301206":true,"301401":true,"301402":true,"301403":true,"301404":true,"301405":true,"301406":true,"301407":true,"301408":true,"301409":true,"301410":true,"301411":true,"301412":true,"301413":true,"301414":true,"301415":true,"301416":true,"301417":true,"301418":true,"301419":true,"301420":true,"301421":true,"301422":true,"301423":true,"301424":true,"301425":true,"301426":true,"301427":true,"300202":true,"300206":true,"300210":true,"300214":true,"300302":true,"300308":true,"300402":true,"300408":true,"300502":true,"300508":true,"300602":true,"300702":true,"301002":true,"301005":true,"301102":true,"301105":true,"301107":true,"301108":true,"301202":true};var calcBetCountConfig={numberTimes:{"100201":true,"100202":true,"100301":true,"100501":true,"100502":true,"300201":true,"300205":true,"300301":true,"300305":true,"300401":true,"300405":true,"300501":true,"300505":true,"300601":true,"300701":true,"300801":true,"300802":true,"300803":true,"300804":true},fixedBet:{"100303":true,"100403":true,"300203":true,"300204":true,"300207":true,"300208":true,"300211":true,"300215":true,"300303":true,"300304":true,"300309":true,"300403":true,"300404":true,"300409":true,"300503":true,"300504":true,"300509":true,"301003":true,"301006":true,"301103":true,"301109":true},baodan:{"300212":true,"300216":true,"300310":true,"300410":true,"300510":true},oneCombine:{'100101':true,"300101":true,"100601":true,"300311":true,"300312":true,"300411":true,"300412":true,"300511":true,"300512":true,"300901":true,"300903":true,"300905":true,"300907":true,"300909":true,"301401":true,"301402":true,"301403":true,"301404":true,"301405":true,"301406":true,"301407":true,"301408":true,"301409":true,"301410":true,"301411":true,"301412":true,"301413":true,"301414":true,"301415":true,"301416":true,"301417":true,"301418":true,"301419":true,"301420":true,"301421":true,"301422":true,"301423":true,"301424":true,"301425":true,"301426":true,"301427":true,"500401":true,"500301":true,"500302":true,"500303":true,"500501":true,"400101":true,"400102":true,"400103":true,"400104":true,"400105":true,"400106":true,"400107":true,"400108":true,"400109":true,"400110":true,"400111":true,"400112":true,"400113":true,"400114":true,"400115":true,"400116":true,"400201":true,"400301":true,"400501":true,"400601":true,"600101":true,"600401":true,"600501":true,"600502":true,"600503":true,"600504":true,"600505":true,"600506":true,"600507":true,"600508":true,"600509":true,"600510":true,"600511":true,"600512":true,"600513":true,"600514":true,"600515":true,"600516":true,"600517":true,"600518":true,"600519":true,"600520":true,"600521":true,"600522":true,"600523":true},twoCombine:{"100203":true,"100204":true,"100602":true,"300209":true,"300213":true,"300902":true,"300904":true,"300906":true,"300908":true,"300910":true,"301004":true,"301205":true,"500203":true,"500208":true,"500502":true,"400801":true},threeCombine:{"100402":true,"300911":true,"300307":true,"300407":true,"300507":true,"301106":true,"500103":true,"500108":true,"500113":true,"500503":true,"400401":true},moreCombine:{"500504":true,"500505":true,"500506":true,"500507":true,"500508":true},combineTimes:{"301001":true,"301101":true,"301201":true},twoArrange:{"100401":true,"300306":true,"300406":true,"300506":true,"301104":true},noOneEqual:{"500101":true,"500106":true,"500111":true,"500201":true,"500206":true,"301206":true,"600202":true,"600301":true},dantuo:{"500105":true,"500110":true,"500115":true,"500205":true,"500210":true,"500701":true,"500702":true,"500703":true,"500704":true,"500705":true,"500706":true,"500707":true,"400402":true,"400802":true,"400701":true}};var calcChaseList={calcChaseTimesByProfit:calcChaseTimesByProfit,calcChaseTimesByProfitRate:calcChaseTimesByProfitRate,calcProfitByChaseTimes:calcProfitByChaseTimes};var SSCNames=['万位','千位','百位','十位','个位'];var FTCNames=['百位','十位','个位'];var bigSmallOddEven=['大','小','单','双'];var dantuo=['胆码','拖码'];var quickBtnOptionFull=[{value:'all',label:'全'},{value:'big',label:'大'},{value:'small',label:'小'},{value:'odd',label:'单'},{value:'even',label:'双'},{value:'clear',label:'清'}];var quickBtnOptionPart=[{value:'all',label:'全'},{value:'clear',label:'清'}];const DOUBLE_EDITION_GAME_ID='3014';const KS_SUM_GAME_ID='4001';const BJSC_DOUBLE_EDITION_GAME_ID='6005';const DEFAULT_GAMEID='cqssc';const PK10_KINDID='bjpk10';var bigSmallOddEven=['大','小','单','双'];var bigSmallOddEvenPrimeValue=['大','小','单','双','质','合'];var dragonTiger=['龙','虎','和'];var oddEven=['单','双'];var zhengheMap={"301401":true,"301402":true,"301403":true,"301404":true,"301405":true,"301406":true};var dtSumMap={"301407":true,"301408":true,"301409":true,"301410":true,"301411":true,"301412":true,"301413":true,"301414":true,"301415":true,"301416":true,"301417":true};var sumOEMap={"301418":true,"301419":true,"301420":true,"301421":true,"301422":true,"301423":true,"301424":true,"301425":true,"301426":true,"301427":true};var doubleEdtionMap=__assign({},zhengheMap,dtSumMap,sumOEMap);var lotteryRebetEnum={ftc:'1',ssc:'3',ks:'4',sel5:'5',sc:'6'};var confirmBetTypeEnum={normal:1,common:2,advanced:3};var accountStatusEnum={normal:'0',forbidden:'1',blacklist:'2',limited:'4'};var reportAllStatusEnum={all:'',win:'0',rebet:'4,5',valid:'0,1,2',wait:'2'};var reportAllStatusTextEnum={all:'全部',win:'中奖',rebet:'退码',valid:'有效',wait:'未颁奖'};var noticeReadStatusEnum={notRead:'0',hasRead:'1',hidden:'3'};var noticeTypeEnum={normal:'1',important:'2'};var accountTypeEnum={vip:'0',visitor:'1'};var orderTypeEnum={normal:'0',chase:'1',chaseStop:'2'};var chargLogTypeEnum={deposit:'1',draw:'2',turnPoint:'3',discounts:'4'};var cashFlowTypeEnum={all:'0',deposit:'1',draw:'2',bet:'3',discounts:'4'};var fixedBetArray1=[1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1];var fixedBetArray2=[10,18,16,14,12,10,8,6,4,2];var fixedBetArray3=[1,1,2,2,3,3,4,4,5,4,4,3,3,2,2,1,1];var fixedBetArray4=[1,3,6,10,15,21,28,36,45,55,63,69,73,75,75,73,69,63,55,45,36,28,21,15,10,6,3,1];var fixedBetArray5=[1,2,2,4,5,6,8,10,11,13,14,14,15,15,14,14,13,11,10,8,6,5,4,2,2,1];var fixedBetArray6=[10,54,96,126,144,150,144,126,96,54];var plusAndCrossValueArray={"100303":fixedBetArray4,"100403":fixedBetArray5,"300203":fixedBetArray1,"300204":fixedBetArray2,"300207":fixedBetArray1,"300208":fixedBetArray2,"300211":fixedBetArray3,"300215":fixedBetArray3,"300303":fixedBetArray4,"300304":fixedBetArray6,"300309":fixedBetArray5,"300403":fixedBetArray4,"300404":fixedBetArray6,"300409":fixedBetArray5,"300503":fixedBetArray4,"300504":fixedBetArray6,"300509":fixedBetArray5,"301003":fixedBetArray1,"301006":fixedBetArray3,"301103":fixedBetArray4,"301109":fixedBetArray5};var baodanFixedValue={"300212":9,"300216":9,"300310":54,"300410":54,"300510":54};var fixedBetNumberConfig={plusAndCrossValueArray:plusAndCrossValueArray,baodanFixedValue:baodanFixedValue};var numbers=['零','壹','贰','叁','肆','伍','陆','柒','捌','玖'];var units=['仟','','拾','佰'];function calcChooseBetCount(betNumbers,optionalFields){var subGameId=betNumbers.subGameId,dantuoMax=betNumbers.dantuoMax,numbers=betNumbers.numbers,optionalMin=betNumbers.optionalMin;var ticketCount=0,newNumbers=[];numbers.forEach(function(row){var selectedNumber=[];row.cols.forEach(function(col,index){if(col.data_selected){selectedNumber.push(index)}});newNumbers.push(selectedNumber)});var firstRow=newNumbers[0],secondRow=newNumbers[1];if(calcBetCountConfig.numberTimes[subGameId]){switch(subGameId){case "300305":case "300405":case "300505":ticketCount=3*numberTimesClac(newNumbers);break;default:ticketCount=numberTimesClac(newNumbers);break}}if(calcBetCountConfig.fixedBet[subGameId]){ticketCount=fixedBetClac(firstRow,fixedBetNumberConfig.plusAndCrossValueArray[subGameId])}if(calcBetCountConfig.baodan[subGameId]){ticketCount=firstRow.length*fixedBetNumberConfig.baodanFixedValue[subGameId]}if(calcBetCountConfig.oneCombine[subGameId]){ticketCount=newNumbers.reduce(function(prev,item){return prev+combination(item,1).length},0)}if(calcBetCountConfig.twoCombine[subGameId]){ticketCount=combination(firstRow,2).length}if(calcBetCountConfig.threeCombine[subGameId]){ticketCount=combination(firstRow,3).length}if(calcBetCountConfig.combineTimes[subGameId]){switch(subGameId){case "301001":ticketCount=combineTimesClac(newNumbers,2);break;case "301101":ticketCount=combineTimesClac(newNumbers,3);break;case "301201":ticketCount=combineTimesClac(newNumbers,4);break}}if(calcBetCountConfig.twoArrange[subGameId]){ticketCount=arrange(firstRow,2).length}if(calcBetCountConfig.moreCombine[subGameId]){ticketCount=combination(firstRow,parseInt(subGameId.charAt(5))).length}if(calcBetCountConfig.noOneEqual[subGameId]){ticketCount=noOneEqualCalc(newNumbers)}if(calcBetCountConfig.dantuo[subGameId]){ticketCount=calcDantuo(firstRow,secondRow,dantuoMax)}if(subGameId==='400701'){ticketCount=firstRow.length*secondRow.length}if(subGameId==="301203"){ticketCount=combination(firstRow,4).length}if(subGameId==="301204"){ticketCount=optionalFourClac(firstRow,secondRow,2)}if(optionalMin>0){ticketCount*=combination(optionalFields,optionalMin).length}return{ticketCount:ticketCount,newNumbers:newNumbers}};function calcInputBetCount(betNumbers,inputNumber,optionalFields){if(/^[\d,\s,,,;]*$/.test(inputNumber)){var orginalNumbers=inputNumber.replace(/[\s,,,;]+/g,',').split(',');var inputFormat_1=betNumbers.inputFormat,max_1=betNumbers.max,maxSame_1=betNumbers.maxSame,min_1=betNumbers.min,minSame_1=betNumbers.minSame,numberUnitFormat_1=betNumbers.numberUnitFormat,optionalMin=betNumbers.optionalMin;var reg_1=new RegExp("\\B(?=(\\d{"+numberUnitFormat_1+"})+(?!\\d))",'g');var numbers_1=[],msg_1='';orginalNumbers.forEach(function(item){if(item!==''){var arr_1=item.replace(reg_1,',').split(','),sameNumber_1=1,content_1='';arr_1.forEach(function(unit){if(unit.length!==numberUnitFormat_1){content_1=item+"\u683C\u5F0F\u4E0D\u6B63\u786E"}});if(arr_1.length!==inputFormat_1){content_1=item+"\u4E0D\u662F"+inputFormat_1+"\u4E2A\u53F7\u7801\uFF0C\u65E0\u6CD5\u4F5C\u4E3A\u4E00\u6CE8"}else{var sortNumbers=arr_1.sort();var maxNumber=parseInt(sortNumbers[arr_1.length-1]),minNumber=parseInt(sortNumbers[0]);if(maxNumber>max_1||minNumber<min_1){content_1=item+"\u4E2D\u6709\u4E0D\u5C5E\u4E8E\u8BE5\u73A9\u6CD5\u7684\u53F7\u7801"}}if(!content_1){arr_1.forEach(function(item){var same=0;arr_1.forEach(function(sub){if(item===sub){same+=1}});if(same>sameNumber_1){sameNumber_1=same}});if(sameNumber_1<minSame_1){content_1="\u6BCF\u6CE8\u53F7\u7801\u81F3\u5C11\u6709"+minSame_1+"\u4E2A\u76F8\u540C\u7684\u6570\uFF0C"+item+"\u4E2D\u53EA\u6709"+sameNumber_1+"\u4E2A\u76F8\u540C\u7684\u6570"}if(maxSame_1>0&&sameNumber_1>maxSame_1){content_1="\u6BCF\u6CE8\u53F7\u7801\u81F3\u591A\u6709"+maxSame_1+"\u4E2A\u76F8\u540C\u7684\u6570\uFF0C"+item+"\u4E2D\u6709"+sameNumber_1+"\u4E2A\u76F8\u540C\u7684\u6570"}}if(content_1){if(!msg_1){msg_1=content_1}}else{numbers_1.push(item)}}});return{msg:msg_1,numbers:numbers_1,ticketCount:optionalMin>0?numbers_1.length*combination(optionalFields,optionalMin).length:numbers_1.length}}else{return{msg:'您输入的号码不合规范，请参考玩法说明',numbers:[],ticketCount:0}}};function calcChaseTimesByProfit(_a){var profit=_a.profit,hasPay=_a.hasPay,betItem=_a.betItem;var odds=betItem.oddMax,totalAmount=betItem.totalPrice;var oddArray=odds.split(',').map(function(item){return parseFloat(item)}).sort(function(a,b){return a-b});var oddMin=oddArray[0];var betTimes=calcBetTimes(betItem);var maxBonus=oddMin*betTimes-totalAmount;if(maxBonus<=0){return 0}var chaseTimes=Math.ceil((profit+hasPay)/(betTimes*oddMin-totalAmount));return isNaN(chaseTimes)||!isFinite(chaseTimes)||chaseTimes<0?0:chaseTimes};function calcChaseTimesByProfitRate(_a){var profitRate=_a.profitRate,hasPay=_a.hasPay,betItem=_a.betItem;var odds=betItem.oddMax,totalAmount=betItem.totalPrice;var oddArray=odds.split(',').map(function(item){return parseFloat(item)}).sort(function(a,b){return a-b});var oddMin=oddArray[0];var betTimes=calcBetTimes(betItem);var profitRateMax=(oddMin*betTimes-totalAmount)/totalAmount*100;if(hasPay===0){if(profitRate>profitRateMax){return 0}else{return 1}}var chaseTimes=Math.ceil(hasPay*(profitRate/100+1)/(oddMin*betTimes-totalAmount-profitRate*totalAmount/100));return isNaN(chaseTimes)||!isFinite(chaseTimes)||chaseTimes<0?0:chaseTimes};function calcProfitByChaseTimes(_a){var chaseTimes=_a.chaseTimes,betItem=_a.betItem,hasPay=_a.hasPay;var subGameId=betItem.subGameId,lotteryNum=betItem.xuanhao,odds=betItem.oddMax,optionalMin=betItem.optionalMin;var betTimes=calcBetTimes(betItem);var oddArray=odds.split(',').map(function(item){return parseFloat(item)}).sort(function(a,b){return a-b});var oddMin=oddArray[0];var oddMax=oddArray[oddArray.length-1];var profit={min:calcProfitAndRate({odds:oddMin,chaseTimes:chaseTimes,betTimes:betTimes,hasPay:hasPay}),max:calcProfitAndRate({odds:oddMax,chaseTimes:chaseTimes,betTimes:betTimes,hasPay:hasPay})};if(oddArray.length===1){return{profit:profit.min.profit.toFixed(3),profitRate:profit.min.profitRate+'%'}}else{return{profit:profit.min.profit.toFixed(3)+'~'+profit.max.profit.toFixed(3),profitRate:profit.min.profitRate+'%~'+profit.max.profitRate+'%'}}};function calcProfitAndRate(_a){var odds=_a.odds,chaseTimes=_a.chaseTimes,betTimes=_a.betTimes,hasPay=_a.hasPay;var all=odds*chaseTimes*betTimes;var real=all-hasPay;return{profit:real,profitRate:fhRound(real/hasPay*100)}};function calcBetTimes(betItem){var betTimes=1;var subGameId=betItem.subGameId,lotteryNum=betItem.xuanhao,optionalMin=betItem.optionalMin;if(subGameId==="300101"){var lotteryNumArray=lotteryNum.replace(/\?/g,'').split(',');betTimes=lotteryNumArray.reduce(function(prev,item){return item.length>0? ++prev:prev},0)}if(optionalMin>0){var optionalNum=lotteryNum.split('|')[0];betTimes=quickCalc_1.combination(optionalNum.split(''),optionalMin).length}return betTimes};function createBetItem(betNumbers,betType,betRate,optionalFields,ticketCost,ticketCount,unitPrice){var numberType=betNumbers.numberType,subGameId=betNumbers.subGameId,numbers=betNumbers.numbers,optionalMin=betNumbers.optionalMin;var oddMax=betRate.oddMax,oneNoteLimit=betRate.oneNoteLimit,singleLimit=betRate.singleLimit;var leftName=betType.leftName,rightName=betType.rightName;var numberString='',mapIndex=0,needSeperatorInCol=false;if(numberType==="button"){var rows_1=[];if(numbers.length===1){needSeperatorInCol=true}numbers.forEach(function(item){var colString=[];item.cols.forEach(function(subItem){if(subItem.data_selected){colString.push(subItem.label)}});if(colString.length===0){colString.push('?')}rows_1.push(colString.join(needSeperatorInCol?',':''))});numberString=rows_1.join()}else{numberString=numbers.join()}if(optionalMin>0){numberString=optionalFields.sort().join('').replace(/1/g,'万').replace(/2/g,'千').replace(/3/g,'百').replace(/4/g,'十').replace(/5/g,'个')+'|'+numberString}var betArray=[];var oddArray=oddMax.split(',');var betName=rightName&&leftName!==rightName?leftName+"("+rightName+")":leftName;if(subGameId==="300312"||subGameId==="300412"||subGameId==="300512"){numbers[0].cols.forEach(function(item,index){if(item.data_selected){betArray.push({betName:betName,bonus:oddArray[index],lotteryNum:item.label,odds:oddMax,oneNoteLimit:oneNoteLimit,optionalMin:optionalMin,orderNum:1,singleLimit:singleLimit,subGameId:subGameId,totalAmount:unitPrice,unitPrice:unitPrice})}})}else{betArray.push({betName:betName,bonus:oddMax,lotteryNum:numberString,odds:oddMax,oneNoteLimit:oneNoteLimit,optionalMin:optionalMin,orderNum:ticketCount,singleLimit:singleLimit,subGameId:subGameId,totalAmount:ticketCost,unitPrice:unitPrice})}return betArray};function getRegularNumbers(_a){var names=_a.names,start=_a.start,end=_a.end,labels=_a.labels,subGameId=_a.subGameId;var rows=[];for(var i=start;i<=end;i+=1){rows.push({rowName:names[i],cols:loopNumbers_bet({labels:labels[i],subGameId:subGameId})})}return rows};function loopNumbers_bet(_a){var labels=_a.labels,subGameId=_a.subGameId;var numbers=[];labels.forEach(function(item){var notCircle=(isNaN(parseInt(item))&&item.length>1)||item.length>2;numbers.push({label:item,data_selected:false,notCircle:notCircle})});return numbers};function createBetNumbers(betType){var leftName=betType.leftName,rightName=betType.rightName,subGameId=betType.subGameId;var sscfushi=SSCBetNumbersConfig.fushi[subGameId],sscdanshi=SSCBetNumbersConfig.danshi[subGameId],sscother=SSCBetNumbersConfig.other[subGameId],elevenfushi=fiveFromElevenBetNumbersConfig.fushi[subGameId],elevendanshi=fiveFromElevenBetNumbersConfig.danshi[subGameId],elevenother=fiveFromElevenBetNumbersConfig.other[subGameId],ksnormal=KSBetNumbersConfig.normal[subGameId],bjscdanshi=BJSCBetNumbersConfig.danshi[subGameId],bjscnormal=BJSCBetNumbersConfig.normal[subGameId],bjscspecial=BJSCBetNumbersConfig.special[subGameId];var ftcfushi=FTCBetNumbersConfig.fushi[subGameId],ftcdanshi=FTCBetNumbersConfig.danshi[subGameId],ftcother=FTCBetNumbersConfig.other[subGameId];var start=0,end=0,max=0,min=0,leftPad=false,names=[rightName],optionalMin=-1,labels=[],inputFormat,minSame=1,maxSame,numberUnitFormat,quickBtnOption=[],dantuoMax;if(sscdanshi||elevendanshi||bjscdanshi||ftcdanshi){if(ftcdanshi){max=9;min=0;maxSame=-1;numberUnitFormat=1;switch(subGameId){case "100302":inputFormat=3;break}}else if(sscdanshi){max=9;min=0;maxSame=-1;numberUnitFormat=1;switch(subGameId){case "300202":case "300206":inputFormat=2;break;case "300210":case "300214":inputFormat=2;maxSame=1;break;case "300302":case "300402":case "300502":inputFormat=3;break;case "300308":case "300408":case "300508":inputFormat=3;maxSame=2;break;case "300602":inputFormat=4;break;case "300702":inputFormat=5;break;case "301002":optionalMin=2;inputFormat=2;break;case "301005":optionalMin=2;inputFormat=2;maxSame=2;break;case "301102":optionalMin=3;inputFormat=3;break;case "301105":optionalMin=3;inputFormat=3;minSame=2;maxSame=2;break;case "301107":optionalMin=3;inputFormat=3;maxSame=1;break;case "301108":optionalMin=3;inputFormat=3;maxSame=2;break;case "301202":optionalMin=4;inputFormat=4;break}}else if(elevendanshi){max=11;min=1;maxSame=1;numberUnitFormat=2;switch(subGameId){case "500102":case "500104":case "500107":case "500109":case "500112":case "500114":case "500603":inputFormat=3;break;case "500202":case "500204":case "500207":case "500209":case "500602":inputFormat=2;break;case "500601":inputFormat=1;break;case "500604":inputFormat=4;break;case "500605":inputFormat=5;break;case "500606":inputFormat=6;break;case "500607":inputFormat=7;break;case "500608":inputFormat=8;break}}else if(bjscdanshi){max=10;min=1;maxSame=1;numberUnitFormat=2;if(subGameId==='600203'){inputFormat=2}else{inputFormat=3}}return{hasSub:false,inputFormat:inputFormat,max:max,maxSame:maxSame,min:min,minSame:minSame,numberType:'input',numberUnitFormat:numberUnitFormat,numbers:[],optionalMin:optionalMin,quickBtnOption:[],subGameId:subGameId}}else{var hasSub=false;if(ftcfushi||ftcother){max=9;min=0;names=FTCNames;hasSub=true;switch(subGameId){case "100101":case "100301":end=2;quickBtnOption=quickBtnOptionFull;break;case '100201':end=1;quickBtnOption=quickBtnOptionFull;break;case "100202":start=1;end=2;quickBtnOption=quickBtnOptionFull;break;case '100203':names=["前二组选"];quickBtnOption=quickBtnOptionFull;break;case '100204':names=["后二组选"];quickBtnOption=quickBtnOptionFull;break;case '100401':names=["组三"];quickBtnOption=quickBtnOptionFull;break;case '100402':names=["组六"];quickBtnOption=quickBtnOptionFull;break;case '100601':names=["一码不定位"];quickBtnOption=quickBtnOptionFull;break;case '100602':names=["二码不定位"];quickBtnOption=quickBtnOptionFull;break;case "100303":names=['和值'];max=27;quickBtnOption=quickBtnOptionPart;break;case "100403":names=['和值'];min=1;max=26;quickBtnOption=quickBtnOptionPart;break;case '100501':end=1;quickBtnOption=quickBtnOptionPart;break;case '100502':start=1;end=2;quickBtnOption=quickBtnOptionPart}var subGameType=subGameId.substr(2,2);switch(subGameType){case '05':names=FTCNames;labels=Array(5).fill(bigSmallOddEven);break;default:break}}else if(sscfushi||sscother){max=9;min=0;if(sscfushi){names=SSCNames;hasSub=true}switch(subGameId){case "300101":case "300701":case "301001":case "301101":case "301201":end=4;quickBtnOption=quickBtnOptionFull;break;case "300201":end=1;quickBtnOption=quickBtnOptionFull;break;case "300803":end=1;quickBtnOption=quickBtnOptionPart;break;case "300205":start=3;end=4;quickBtnOption=quickBtnOptionFull;break;case "300801":start=3;end=4;quickBtnOption=quickBtnOptionPart;break;case "300301":case "300305":end=2;quickBtnOption=quickBtnOptionFull;break;case "300804":end=2;quickBtnOption=quickBtnOptionPart;break;case "300401":case "300405":start=1;end=3;quickBtnOption=quickBtnOptionFull;break;case "300501":case "300505":start=2,end=4;quickBtnOption=quickBtnOptionFull;break;case "300802":start=2,end=4;quickBtnOption=quickBtnOptionPart;break;case "300601":start=1,end=4;quickBtnOption=quickBtnOptionFull;break;case "300204":case "300208":case "300209":case "300213":case "300304":case "300306":case "300307":case "300311":case "300404":case "300406":case "300407":case "300411":case "300504":case "300506":case "300507":case "300511":case "301004":case "301104":case "301106":case "301203":case "300901":case "300902":case "300903":case "300904":case "300905":case "300906":case "300907":case "300908":case "300909":case "300910":case "300911":quickBtnOption=quickBtnOptionFull;break;case "300212":case "300216":case "300310":case "300410":case "300510":break;case "300203":case "300207":case "301003":max=18;quickBtnOption=quickBtnOptionPart;break;case "300211":case "300215":case "301006":min=1;max=17;quickBtnOption=quickBtnOptionPart;break;case "300303":case "300403":case "300503":case "301103":max=27;quickBtnOption=quickBtnOptionPart;break;case "300309":case "300409":case "300509":case "301109":min=1;max=26;quickBtnOption=quickBtnOptionPart;break;case "300312":case "300412":case "300512":labels=[['豹子','对子','顺子']];quickBtnOption=quickBtnOptionPart;break;case "301204":names=['二重号','单号'];end=1;quickBtnOption=quickBtnOptionFull;break;case "301205":names=['二重号'];quickBtnOption=quickBtnOptionFull;break;case "301206":names=['三重号','单号'];end=1;quickBtnOption=quickBtnOptionFull;break;default:break}var subGameType=subGameId.substr(2,2);switch(subGameType){case '08':names=SSCNames;labels=Array(5).fill(bigSmallOddEven);break;case '10':if(subGameId.substr(4,2)!=='01'){optionalMin=2}break;case '11':if(subGameId.substr(4,2)!=='01'){optionalMin=3}break;case '12':if(subGameId.substr(4,2)!=='01'){optionalMin=4}break;default:break}}else if(elevenfushi||elevenother){leftPad=true;max=11;min=1;if(elevenfushi){names=SSCNames;hasSub=true}switch(subGameId){case "500401":end=4;quickBtnOption=quickBtnOptionFull;break;case "500101":end=2;quickBtnOption=quickBtnOptionFull;break;case "500106":start=1;end=3;quickBtnOption=quickBtnOptionFull;break;case "500111":start=2,end=4;quickBtnOption=quickBtnOptionFull;break;case "500201":end=1;quickBtnOption=quickBtnOptionFull;break;case "500206":start=3;end=4;quickBtnOption=quickBtnOptionFull;break;case "500103":case "500108":case "500113":case "500203":case "500208":case "500301":case "500302":case "500303":case "500501":case "500502":case "500503":case "500504":case "500505":case "500506":case "500507":case "500508":quickBtnOption=quickBtnOptionFull;break;case "500105":case "500110":case "500115":case "500702":dantuoMax=3;break;case "500205":case "500210":case "500701":dantuoMax=2;break;case "500703":dantuoMax=4;break;case "500704":dantuoMax=5;break;case "500705":dantuoMax=6;break;case "500706":dantuoMax=7;break;case "500707":dantuoMax=8;break}if(calcBetCountConfig.dantuo[subGameId]){names=dantuo;end=1}}else if(ksnormal){max=6;min=1;switch(subGameId){case "400201":labels=[['三同号通选']];break;case "400301":labels=[['111','222','333','444','555','666']];break;case "400402":names=dantuo;end=1;dantuoMax=3;break;case "400802":names=dantuo;end=1;dantuoMax=2;break;case "400501":labels=[['三连号通选']];break;case "400601":labels=[['11','22','33','44','55','66']];break;case "400701":names=['同号','不同号'];labels=[['11','22','33','44','55','66'],['1','2','3','4','5','6']];end=1;dantuoMax=6;break}}else if(bjscnormal){max=10;min=1;names=["冠","亚","季","四","五","六","七","八","九","十"];quickBtnOption=quickBtnOptionFull;leftPad=true;hasSub=true;switch(subGameId){case "600101":end=0;break;case "600202":end=1;break;case "600301":end=2;break;case "600401":end=9;break;case "600501":end=9;labels=["","","","","","","","","",""].fill(['大','小','单','双']);quickBtnOption=[];hasSub=false;break;case "600502":end=4;names=['冠vs十','亚vs九','季vs八','四vs七','五vs六'];labels=["","","","",""].fill(['龙','虎']);quickBtnOption=[];hasSub=false;break}}if(labels.length===0){var sameLabels=[];for(var i=min;i<=max;i+=1){sameLabels.push(leftPad?i>9?i+'':'0'+i:i+'')}labels=Array(names.length).fill(sameLabels)}var numbers=getRegularNumbers({end:end,names:names,start:start,subGameId:subGameId,labels:labels});return{dantuoMax:dantuoMax,inputFormat:false,end:end,hasSub:hasSub,max:max,min:min,numberType:'button',numbers:numbers,optionalMin:optionalMin,quickBtnOption:quickBtnOption,start:start,subGameId:subGameId}}};function createChaseList(_a){var confirmBetFields=_a.confirmBetFields,betList=_a.betList,chaseList=_a.chaseList,periodNo=_a.periodNo,gameType=_a.gameType,isFirst=_a.isFirst;var chaseAfterPercent=confirmBetFields.chaseAfterPercent,chaseBeforePercent=confirmBetFields.chaseBeforePercent,chaseBeforePeriod=confirmBetFields.chaseBeforePeriod,chaseMinNumber=confirmBetFields.chaseMinNumber,chaseMinPercent=confirmBetFields.chaseMinPercent,chasePeriods=confirmBetFields.chasePeriods,chasePrePay=confirmBetFields.chasePrePay,chaseTimes=confirmBetFields.chaseTimes,chaseWinType=confirmBetFields.chaseWinType,confirmBetType=confirmBetFields.confirmBetType;var newChaseList=[],finalChaseList=[],targetChasePeriods=chasePeriods,msg='';if(isFirst){for(var i=0;i<chasePeriods;i+=1){newChaseList.push({currentPay:0,hasPay:0,profit:'',profitRate:'',periodNo:createChasePeriod(periodNo,i,gameType),times:chaseTimes})}}else{newChaseList=chaseList.reduce(function(prev,item,index){return prev.concat([__assign({},item,{periodNo:createChasePeriod(periodNo,index,gameType),times:item.times})])},newChaseList)}if(confirmBetType===confirmBetTypeEnum.common){var hasPay_1=0;newChaseList.forEach(function(item){var times=item.times;var currentPay=0;currentPay=betList.reduce(function(prev,item){return prev+item.totalPrice*times},0);currentPay=parseFloat(currentPay.toFixed(2));hasPay_1+=currentPay;hasPay_1=parseFloat(hasPay_1.toFixed(2));var profit={profit:'--',profitRate:'--'};if(betList.length===1){profit=calcProfitByChaseTimes({chaseTimes:times,betItem:betList[0],hasPay:hasPay_1})}finalChaseList.push({currentPay:currentPay,hasPay:hasPay_1,periodNo:item.periodNo,profit:profit.profit,profitRate:profit.profitRate,times:times})})}else{console.log(chasePrePay);console.log(betList);var hasPay_2=chasePrePay;var betItem_1=betList[0];console.log(newChaseList);if(chaseWinType===1){newChaseList.forEach(function(item,index){console.log(hasPay_2);var times=0;if(isFirst){times=calcChaseTimesByProfitRate({profitRate:chaseMinPercent,hasPay:hasPay_2,betItem:betItem_1});console.log(times);times=times>=chaseTimes?times:chaseTimes}else{times=item.times}if(times!==0&&times<99999){var currentPay=betItem_1.totalPrice*times;currentPay=parseFloat(currentPay.toFixed(2));hasPay_2+=currentPay;hasPay_2=parseFloat(hasPay_2.toFixed(2));var profit=calcProfitByChaseTimes({chaseTimes:times,betItem:betItem_1,hasPay:hasPay_2});finalChaseList.push({periodNo:item.periodNo,times:times,currentPay:currentPay,hasPay:hasPay_2,profit:profit.profit,profitRate:profit.profitRate})}})}if(chaseWinType===2){newChaseList.forEach(function(item,index){var targetProfitRate;if(index<chaseBeforePeriod){targetProfitRate=chaseBeforePercent}else{targetProfitRate=chaseAfterPercent}var times=0;if(isFirst){times=calcChaseTimesByProfitRate({profitRate:targetProfitRate,hasPay:hasPay_2,betItem:betItem_1});times=times>=chaseTimes?times:chaseTimes}else{times=item.times}if(times!==0&&times<99999){var currentPay=betItem_1.totalPrice*times;currentPay=parseFloat(currentPay.toFixed(2));hasPay_2+=currentPay;hasPay_2=parseFloat(hasPay_2.toFixed(2));var profit=calcProfitByChaseTimes({chaseTimes:times,betItem:betItem_1,hasPay:hasPay_2});finalChaseList.push({currentPay:currentPay,hasPay:hasPay_2,periodNo:item.periodNo,profit:profit.profit,profitRate:profit.profitRate,times:times})}})}if(chaseWinType===3){newChaseList.forEach(function(item,index){var times=0;if(isFirst){times=calcChaseTimesByProfit({profit:chaseMinNumber,hasPay:hasPay_2,betItem:betItem_1});times=times>=chaseTimes?times:chaseTimes}else{times=item.times}if(times!==0&&times<99999){var currentPay=betItem_1.totalPrice*times;currentPay=parseFloat(currentPay.toFixed(2));hasPay_2+=currentPay;hasPay_2=parseFloat(hasPay_2.toFixed(2));var profit=calcProfitByChaseTimes({chaseTimes:times,betItem:betItem_1,hasPay:hasPay_2});finalChaseList.push({currentPay:currentPay,hasPay:hasPay_2,periodNo:item.periodNo,profit:profit.profit,profitRate:profit.profitRate,times:times})}})}}return finalChaseList};function createChasePeriod(period,offset,gameType){var periodNoAll=gameType.periodNoAll,kindId=gameType.kindId;if(kindId===PK10_KINDID){return parseInt(period)+offset+''}else{var digit=period.length-8;var periodTime=period.substr(0,8);var momentTime=moment(periodTime,'YYYYMMDD');var nowPeriodString=period.substr(8,digit);var nowPeriod=parseInt(period.substr(8,digit));var targetPeriod=nowPeriod+offset;var targetTime=void 0;if(targetPeriod>periodNoAll){targetPeriod-=periodNoAll;targetTime=momentTime.add(1,'d').format('YYYYMMDD')}else{targetTime=periodTime}var targetPeriodString=targetPeriod+'';return targetTime+targetPeriodString.padStart(digit,'0')}};function createSpecialBetItem(_a){var betNumbers=_a.betNumbers,unitPrice=_a.unitPrice;var betArray=[];var numbers=betNumbers.numbers,firstSubGameId=betNumbers.subGameId;if(createSpecialBetNumbers.dtSumMap[firstSubGameId]){var sumColString=[];numbers.forEach(function(row){var rowName=row.rowName,subGameId=row.subGameId,cols=row.cols,oddMax=row.oddMax,leftName=row.leftName,rightName=row.rightName,oneNoteLimit=row.oneNoteLimit,singleLimit=row.singleLimit;var betName=rightName&&leftName!==rightName?leftName+"("+rightName+")":leftName;var colString=[];cols.forEach(function(col,index){var selected=col.data_selected,label=col.label;if(selected){if(index===2){sumColString.push(rightName)}else{colString.push(label)}}});if(colString.length>0){betArray.push({betName:betName,bonus:oddMax,lotteryNum:colString.toString(),odds:oddMax,oneNoteLimit:oneNoteLimit,optionalMin:-1,orderNum:colString.length,singleLimit:singleLimit,subGameId:subGameId,totalAmount:unitPrice,unitPrice:unitPrice})}});if(sumColString.length>0){var _b=numbers[numbers.length-1],rowName=_b.rowName,subGameId=_b.subGameId,cols=_b.cols,oddMax=_b.oddMax,leftName=_b.leftName,rightName=_b.rightName,oneNoteLimit=_b.oneNoteLimit,singleLimit=_b.singleLimit;var orderNum=sumColString.length;var betName=rightName&&leftName!==rightName?leftName+"("+rightName+")":leftName;betArray.push({betName:betName,bonus:oddMax,lotteryNum:sumColString.toString(),odds:oddMax,oneNoteLimit:oneNoteLimit,optionalMin:-1,orderNum:orderNum,singleLimit:singleLimit,subGameId:subGameId,totalAmount:unitPrice*orderNum,unitPrice:unitPrice})}}else if(createSpecialBetNumbers.sumOEMap[firstSubGameId]||createSpecialBetNumbers.zhengheMap[firstSubGameId]||BJSCBetNumbersConfig.special[firstSubGameId]){numbers.forEach(function(row){var rowName=row.rowName,subGameId=row.subGameId,cols=row.cols,oddMax=row.oddMax,leftName=row.leftName,rightName=row.rightName,oneNoteLimit=row.oneNoteLimit,singleLimit=row.singleLimit;var betName=rightName&&leftName!==rightName?leftName+"("+rightName+")":leftName;var colString=[];cols.forEach(function(col){var selected=col.data_selected,label=col.label;if(selected){colString.push(label)}});var orderNum=colString.length;if(orderNum>0){betArray.push({betName:betName,bonus:oddMax,lotteryNum:colString.toString(),odds:oddMax,oneNoteLimit:oneNoteLimit,optionalMin:-1,orderNum:orderNum,singleLimit:singleLimit,subGameId:subGameId,totalAmount:unitPrice*orderNum,unitPrice:unitPrice})}})}else if(KSBetNumbersConfig.special[firstSubGameId]){numbers.forEach(function(row){var cols=row.cols;var colString=[];cols.forEach(function(col){var selected=col.selected,label=col.label,oddMax=col.oddMax,leftName=col.leftName,rightName=col.rightName,oneNoteLimit=col.oneNoteLimit,singleLimit=col.singleLimit,subGameId=col.subGameId;var betName=rightName&&leftName!==rightName?leftName+"("+rightName+")":leftName;if(selected){betArray.push({betName:betName,bonus:oddMax,lotteryNum:label,odds:oddMax,oneNoteLimit:oneNoteLimit,optionalMin:-1,orderNum:1,singleLimit:singleLimit,subGameId:subGameId,totalAmount:unitPrice,unitPrice:unitPrice})}})})}return betArray};function loopNumbers(_a){console.info(_a);var betRates=_a.betRates,betTypeMap=_a.betTypeMap,labels=_a.labels,subGameId=_a.subGameId;var numbers=[];var betType=betTypeMap[subGameId];var betRate=betRates.find(function(item){return item.subGameId===subGameId});var dtSumBetRate=betRates.find(function(item){return item.subGameId==="301417"});labels.forEach(function(label,index){var inverse;if(!(dtSumMap[subGameId]&&index===2)){inverse=index%2===0?index+1:index-1}numbers.push({inverse:inverse,label:label,data_selected:false})});return __assign({},betRate,betType,{cols:numbers,rowName:betType.rightName,subGameId:subGameId})};function createSpecialBetNumbers(props){console.info(props);var betRates=props.betRates,betTypeMap=props.betTypeMap,subGameIds=props.subGameIds;var firstSubGameId=subGameIds[0];var numbers=[],max=9;subGameIds.forEach(function(subGameId){var labels=[];if(zhengheMap[subGameId]){if(subGameId==='301406'){labels=bigSmallOddEven}else{labels=bigSmallOddEvenPrimeValue}}else if(dtSumMap[subGameId]){labels=dragonTiger}else if(sumOEMap[subGameId]){labels=oddEven}else if(KSBetNumbersConfig.special[subGameId]||BJSCBetNumbersConfig.special[subGameId]){labels=[betTypeMap[subGameId].rightName]}if(KSBetNumbersConfig.special[subGameId]){var betType=betTypeMap[subGameId];var betRate=betRates.find(function(item){return item.subGameId===subGameId});numbers.push(__assign({},betRate,betType,{label:betType.rightName,data_selected:false}))}else{numbers.push(loopNumbers({betRates:betRates,betTypeMap:betTypeMap,labels:labels,subGameId:subGameId}))}});if(doubleEdtionMap[subGameIds[0]]){max=9}else if(KSBetNumbersConfig.special[subGameIds[0]]){max=21;numbers=[{cols:numbers}]}else if(BJSCBetNumbersConfig.special[subGameIds[0]]){max=10}return{hasSub:false,max:max,numberType:'button',numbers:numbers,optionalMin:-1,quickBtnOption:[],subGameId:firstSubGameId}};function normalChooseNumber(_a){var betNumbers=_a.betNumbers,rowIndex=_a.rowIndex,colIndex=_a.colIndex;var newBetNumbers=__assign({},betNumbers);var subGameId=betNumbers.subGameId,dantuoMax=betNumbers.dantuoMax;var selectedNumber=newBetNumbers.numbers[rowIndex].cols[colIndex];var beforeStatus=selectedNumber.data_selected;selectedNumber.selectedTime=Date.now();if(SSCBetNumbersConfig.fullInverse[subGameId]){newBetNumbers.numbers[rowIndex].cols.forEach(function(item){return item.data_selected=false})}selectedNumber.data_selected=!beforeStatus;if(calcBetCountConfig.dantuo[subGameId]){if(selectedNumber.data_selected){newBetNumbers.numbers[1-rowIndex].cols[colIndex].data_selected=false;if(rowIndex===0){var oldestSelected_1=Date.now()*10,oldestIndex_1=-1,selecteds_1=0;newBetNumbers.numbers[rowIndex].cols.forEach(function(item,index){if(item.data_selected){selecteds_1+=1}if(item.selectedTime&&item.selectedTime<oldestSelected_1){oldestSelected_1=item.selectedTime;oldestIndex_1=index}});console.log('selecteds',selecteds_1);console.log('oldestSelected',oldestSelected_1);console.log('oldestIndex',oldestIndex_1);if(selecteds_1===dantuoMax){newBetNumbers.numbers[0].cols[oldestIndex_1].data_selected=false;newBetNumbers.numbers[0].cols[oldestIndex_1].selectedTime=undefined}}}}if(SSCList[subGameId]&&subGameId.substr(2,2)==='14'&&selectedNumber.inverse!==undefined){var inverseNumber=newBetNumbers.numbers[rowIndex].cols[selectedNumber.inverse];if(selectedNumber.data_selected&&inverseNumber){inverseNumber.data_selected=false}}return newBetNumbers};function numberToChinese(money){if(money===void 0){money=0}var str='';var tempArray=money.toString().split('.');var intPart=tempArray[0].split('');var decimalPart=[];if(tempArray[1]){decimalPart=tempArray[1].split('')}var intPartLength=intPart.length;var hasZeroBefore=false;intPart.forEach(function(item,index){var intItem=parseInt(item);var realIndex=(intPartLength-index)%4;if(intItem>0){if(hasZeroBefore){str+=numbers[0];hasZeroBefore=false}str=str+numbers[intItem]+units[realIndex]}else{hasZeroBefore=true}if(intPartLength-index===5){str+='万'}});if(str){str+='元'}decimalPart=decimalPart.slice(0,3);var decimalPartLength=decimalPart.length;if(decimalPartLength>0){decimalPart.forEach(function(item,index){var intItem=parseInt(item);if(intItem>0){str+=numbers[intItem];if(decimalPartLength>1){switch(index){case 0:str+='角';break;case 1:str+='分';break;case 2:str+='厘';break}}else{str+='角'}}})}else{str+='整'}return str==='整'?'':str};function fhRound(value,digit){if(digit===void 0){digit=3}return Math.round(value*(Math.pow(10,digit)))/Math.pow(10,digit)};function getRandomInt(plus,add){if(add===void 0){add=0}return Math.floor(Math.random()*plus+add)};function arrange(arr,num){var result=[];(function f(t,a,n){if(n===0){return result.push(t)}for(var i=0,l=a.length;i<l;i+=1){f(t.concat([a[i]]),a.slice(0,i).concat(a.slice(i+1)),n-1)}})([],arr,num);return result};function combination(arr,num){var result=[];(function f(t,a,n){if(n===0){return result.push(t)}for(var i=0,l=a.length;i<=l-n;i+=1){f(t.concat([a[i]]),a.slice(i+1),n-1)}})([],arr,num);return result};function allCombination(arr){var result=[];(function f(t,a,n){if(n<a.length){a[n].forEach(function(item){if(n===a.length-1){result.push(t.concat([item]))}else{f(t.concat([item]),a,n+1)}})}})([],arr,0);return result};function numberTimesClac(numbers){return numbers.reduce(function(prev,item){return prev*item.length},1)};function fixedBetClac(firstRow,countArr){return firstRow.reduce(function(prev,item){console.log(countArr);return prev+countArr[item]},0)};function combineTimesClac(numbers,n){return combination(numbers,n).reduce(function(prev,item){return prev+item.reduce(function(subPrev,subItem){return subPrev*subItem.length},1)},0)};function optionalFourClac(firstRow,secondRow,n){var ticketCount=0;firstRow.forEach(function(item){var itemIndex=secondRow.indexOf(item);if(itemIndex>-1){ticketCount+=combination(secondRow.slice(0,itemIndex).concat(secondRow.slice(itemIndex+1)),n).length}else{ticketCount+=combination(secondRow,n).length}});return ticketCount};function calcDantuo(firstRow,secondRow,n){return firstRow.length>0?combination(secondRow,n-firstRow.length).length:0};function noOneEqualCalc(numbers){var allPossibleCombines=allCombination(numbers);var ticketCount=0;allPossibleCombines.forEach(function(item){var isEffect=true;item.forEach(function(sub,index){if(item.indexOf(sub)!==index){isEffect=false}});if(isEffect){ticketCount+=1}});return ticketCount};